/* นำเข้าฟอนต์ */
@import url('https://fonts.googleapis.com/css2?family=Bungee&family=Press+Start+2P&family=Roboto:wght@400;700&display=swap');

/* --- พื้นฐาน --- */
body { 
    font-family: 'Roboto', sans-serif; 
    background: radial-gradient(circle, #3a3a6e, #1a1a2e); 
    color: #e0e0e0; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    min-height: 100vh; 
    margin: 0; 
    font-weight: 400; 
}

.container { 
    background-color: #2a2a4e; 
    padding: 2rem; 
    border-radius: 10px; 
    border: 3px solid #f9c74f; 
    box-shadow: 0 0 30px rgba(249, 199, 79, 0.4); 
    width: 550px; /* ขยายความกว้าง */ 
    text-align: center; 
}

h2, .controls label { 
    font-family: 'Bungee', cursive; 
}

.hidden { 
    display: none; 
}

/* --- ส่วน Input & Buttons --- */
input[type="text"], input[type="password"], input[type="number"] { 
    width: 90%; 
    padding: 12px; 
    margin: 10px 0; 
    border: 2px solid #9090be; 
    border-radius: 5px; 
    background-color: #1a1a2e; 
    color: #e0e0e0; 
    font-family: 'Roboto', sans-serif; 
    font-size: 1rem; 
    font-weight: 700; 
}

button { 
    border: none; 
    padding: 12px 24px; 
    border-radius: 8px; 
    cursor: pointer; 
    font-family: 'Bungee', cursive; 
    font-weight: bold; 
    font-size: 1.1rem; 
    transition: all 0.2s ease; 
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3); 
}
button:hover { 
    transform: scale(1.05); 
}
button:active { 
    transform: scale(0.98); 
}
button:disabled { 
    background-color: #555; 
    cursor: not-allowed; 
    transform: scale(1); 
}

#login-button { 
    background-color: #43aa8b; 
    color: #fff; 
}
#login-button:hover { 
    background-color: #3b9a7c; 
}
#logout-button { 
    background-color: #f94144; 
    color: #fff; 
    padding: 8px 12px; 
    font-size: 0.9rem; 
}
#logout-button:hover { 
    background-color: #e03033; 
}

/* --- ส่วนแสดงผล User --- */
.user-bar { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    margin-bottom: 1rem; 
    font-size: 1rem; 
    font-weight: 700; 
}

#gold-display { 
    font-weight: 700; 
    color: #f9c74f; 
    background-color: #1a1a2e; 
    padding: 5px 10px; 
    border-radius: 5px; 
}

/* --- *** ส่วนที่อัปเกรด (Game Feel) *** --- */

.game-title { 
    font-family: 'Press Start 2P', cursive; 
    color: #f9c74f; 
    font-size: 2.2rem; /* ขยายฟอนต์ */
    text-shadow: 3px 3px 0px #f94144; 
    margin-bottom: 2rem; /* เพิ่มระยะห่าง */
}

.chest-area { 
    display: flex; 
    justify-content: space-around; 
    margin: 2.5rem 0; /* เพิ่มระยะห่าง */
}

.chest {
    width: 120px; /* ขยายขนาด */
    height: 120px; /* ขยายขนาด */
    background-color: #6a4f3b; /* สีไม้ */
    border: 5px solid #4a3729; /* ขอบไม้เข้ม */
    border-radius: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 4.5rem; /* ขยาย Emoji */
    color: #f0e6d2; /* สี Emoji เริ่มต้น (สีครีม) */
    font-weight: bold;
    transition: all 0.3s ease;
    /* เงาด้านใน และเงาด้านนอก */
    box-shadow: 0 5px 15px rgba(0,0,0,0.3), inset 0 0 10px rgba(0,0,0,0.5);
    transform-style: preserve-3d;
    backface-visibility: hidden;
    overflow: hidden;
    cursor: help; /* เปลี่ยน cursor */
}

/* --- อนิเมชั่น "สั่น" (แทน .spinning) --- */
.shaking {
    animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both infinite;
}
@keyframes shake {
  10%, 90% { transform: translate3d(-1px, 0, 0); }
  20%, 80% { transform: translate3d(2px, 0, 0); }
  30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
  40%, 60% { transform: translate3d(4px, 0, 0); }
}

/* --- อนิเมชั่น "เปิด" ไอเทม (เพิ่มใหม่) --- */
.item-reveal {
    animation: item-pop-in 0.3s ease-out;
}
@keyframes item-pop-in {
  0% { transform: scale(0.5); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}


/* --- สไตล์ไอเทม (ปรับปรุง) --- */

/* สีรุ้ง (Legendary) */
.item-legendary {
    background: linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #8b00ff);
    background-size: 400% 400%;
    -webkit-background-clip: text;
    -moz-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: rainbow-scroll 3s linear infinite;
}
/* เพิ่มพื้นหลังตอนเปิด */
.chest.item-legendary { background-color: #6a5a2a; } 

/* ม่วง-ชมพู (Rare) */
.item-rare {
    background: linear-gradient(45deg, #a200ff, #f000ff);
    -webkit-background-clip: text;
    -moz-background-clip: text;
    background-clip: text;
    color: transparent;
}
/* เพิ่มพื้นหลังตอนเปิด */
.chest.item-rare { background-color: #4a2a5a; }

/* ฟ้า-เขียว (Common) */
.item-common {
    background: linear-gradient(45deg, #00b4d8, #00ff87);
    -webkit-background-clip: text;
    -moz-background-clip: text;
    background-clip: text;
    color: transparent;
}
/* เพิ่มพื้นหลังตอนเปิด */
.chest.item-common { background-color: #2a5a3a; }

@keyframes rainbow-scroll {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}


/* --- ส่วนควบคุม (ปรับปรุง) --- */
.controls {
    margin-top: 1.5rem;
}

.controls label {
    font-family: 'Bungee', cursive;
    font-size: 1.2rem;
    color: #f9c74f;
    display: block; /* ให้ขึ้นบรรทัดใหม่ */
    margin-bottom: 0.5rem;
}

#bet-input {
    text-align: center;
    font-family: 'Press Start 2P', cursive; /* ใช้ฟอนต์เกม */
    font-size: 1.2rem;
    width: 60%;
}

/* --- อนิเมชั่นอื่นๆ --- */
.win-pop { animation: pop-animation 0.5s ease; }
@keyframes pop-animation { 
    0% { transform: scale(1); } 
    50% { transform: scale(1.2); box-shadow: 0 0 25px #f9c74f; } 
    100% { transform: scale(1); } 
}

.gold-flash { animation: flash-animation 0.7s ease; }
@keyframes flash-animation { 
    0% { color: #f9c74f; transform: scale(1); } 
    50% { color: #ffffff; transform: scale(1.15); } 
    100% { color: #f9c74f; transform: scale(1); } 
}

#result-message { 
    font-size: 1.1rem; 
    font-weight: 700; 
    height: 2em; 
    margin-top: 1rem; 
}
.win-message { color: #43aa8b; }
.lose-message { color: #f94144; }

#open-button { 
    background-color: #f9c74f; 
    color: #1a1a2e; 
    width: 80%; 
    margin-top: 1rem; 
    animation: pulse 1.5s infinite; 
}
#open-button:hover { background-color: #f8b400; }
@keyframes pulse { 
    0% { transform: scale(1); } 
    50% { transform: scale(1.05); } 
    100% { transform: scale(1); } 
}
